(function(t){function e(e){for(var r,o,i=e[0],l=e[1],c=e[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],r=!0,i=1;i<s.length;i++){var l=s[i];0!==n[l]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},n={app:0},a=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="http://localhost/onesign/public/assets/app/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var r=s("85ec"),n=s.n(r);n.a},"03f5":function(t,e,s){"use strict";var r=s("b45d"),n=s.n(r);n.a},"56d7":function(t,e,s){"use strict";s.r(e);s("45fc"),s("d3b7"),s("3ca3"),s("ddb0"),s("e260"),s("e6cf"),s("cca6"),s("a79d");var r,n,a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},i=[],l={name:"App"},c=l,u=(s("034f"),s("2877")),p=Object(u["a"])(c,o,i,!1,null,null,null),d=p.exports,m=s("8c4f"),f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",[s("b-row",t._l(t.systems,(function(t,e){return s("b-col",{directives:[{name:"show",rawName:"v-show",value:t.display,expression:"system.display"}],key:e,attrs:{md:"3",lg:"3",sm:"3"}},[s("Statistics",{attrs:{title:t.count,desc:t.system_name,icon:t.icon,variant:t.variant,text:t.text}})],1)})),1),s("b-link",{staticClass:"mt-3",on:{click:t.toggleSystems}},[t._v(t._s(t.visibleCtr==t.systems.length?"Hide":"Show more"))]),s("Approval")],1)])},b=[],h=(s("d81d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{staticClass:"mb-2",attrs:{"bg-variant":t.variant,"text-variant":t.text}},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-body"},[s("h3",{staticClass:"statistics__number"},[t._v(t._s(t.title))]),s("span",{staticClass:"statistics__desc"},[t._v(t._s(t.desc))])])])])}),v=[],g=(s("a9e3"),{name:"Statistics",components:{},data:function(){return{}},props:{title:Number,desc:String,icon:String,variant:String,text:String},mounted:function(){},computed:{}}),y=g,_=(s("03f5"),Object(u["a"])(y,h,v,!1,null,"76a00e65",null)),w=_.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-card",{staticClass:"mt-3 mb-3",attrs:{"bg-variant":"light",title:"Pending approval"}},[s("b-card-body",[s("b-row",[s("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"filterInput"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-input",{attrs:{type:"search",id:"filterInput",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),s("b-input-group-append",[s("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),s("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter On","label-cols-sm":"3","label-align-sm":"right","label-size":"sm",description:"Leave all unchecked to filter on all data"}},[s("b-form-checkbox-group",{staticClass:"mt-1",model:{value:t.filterOn,callback:function(e){t.filterOn=e},expression:"filterOn"}},[s("b-form-checkbox",{attrs:{value:"system"}},[t._v("System")]),s("b-form-checkbox",{attrs:{value:"reference_no"}},[t._v("Ref No.")]),s("b-form-checkbox",{attrs:{value:"description"}},[t._v("Description")])],1)],1)],1)],1),s("b-table",{attrs:{small:"",stacked:"md",items:t.items,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,filterIncludedFields:t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[s("b-link",{staticClass:"mr-1",attrs:{href:e.item.approve_url,target:"_blank"}},[t._v(" Approve ")]),s("b-link",{staticClass:"mr-1",attrs:{href:e.item.reject_url,target:"_blank"}},[t._v(" Reject ")]),s("b-link",{staticClass:"mr-1",on:{click:function(e){return t.info()}}},[t._v(" Info ")])]}}])}),s("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[s("pre",[t._v(t._s(t.infoModal.content))])])],1),s("b-card-footer",[s("b-row",[s("b-col",{staticClass:"my-1",attrs:{sm:"4",md:"4",lg:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Sort","label-cols-sm":"3","label-align-sm":"right","label-size":"sm","label-for":"sortBySelect"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-select",{staticClass:"w-75",attrs:{id:"sortBySelect",options:t.sortOptions},scopedSlots:t._u([{key:"first",fn:function(){return[s("option",{attrs:{value:""}},[t._v("-- none --")])]},proxy:!0}]),model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),s("b-form-select",{staticClass:"w-25",attrs:{size:"sm",disabled:!t.sortBy},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[s("option",{domProps:{value:!1}},[t._v("Asc")]),s("option",{domProps:{value:!0}},[t._v("Desc")])])],1)],1)],1),s("b-col",{staticClass:"my-1",attrs:{sm:"3",md:"3"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[s("b-form-select",{attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),s("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"5"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)},x=[],S=(s("4de4"),{data:function(){return{items:[{system:"PPS",description:"New pps request",reference_no:"PPS-2020-001",status:"pending",request_date:"08/21/2020",approve_url:"http://pps/approve/1",reject_url:"http://pps/reject/1",details_url:"http://pps/details/1"},{system:"Courier Request",description:"New courier request",reference_no:"0001",status:"pending",request_date:"08/21/2020",approve_url:"http://pps/approve/1",reject_url:"http://pps/reject/1",details_url:"http://pps/details/1"},{system:"MIS Support",description:"Mouse repair",reference_no:"0001",status:"MIS Acknowledged",request_date:"08/21/2020",approve_url:"http://pps/approve/1",reject_url:"http://pps/reject/1",details_url:"http://pps/details/1"}],fields:[{key:"system",label:"System",sortable:!0},{key:"description",label:"Description",sortable:!0},{key:"reference_no",label:"Reference No.",sortable:!0},{key:"status",label:"Status",sortable:!0},{key:"actions",label:"Actions"}],totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""}}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},mounted:function(){this.totalRows=this.items.length},methods:{info:function(t,e,s){this.infoModal.title="Row index: ".concat(e),this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,s)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}}),C=S,O=Object(u["a"])(C,k,x,!1,null,null,null),P=O.exports,j={components:{Statistics:w,Approval:P},data:function(){return{systems:[{system_name:"System 1",count:10,variant:"dark",icon:"arrow-clockwise",text:"white",display:!0},{system_name:"System 2",count:10,variant:"dark",icon:"arrow-clockwise",text:"white",display:!0},{system_name:"System 3",count:10,variant:"dark",icon:"arrow-clockwise",text:"white",display:!0},{system_name:"System 4",count:10,variant:"dark",icon:"arrow-clockwise",text:"white",display:!0},{system_name:"System 5",count:10,variant:"primary",icon:"arrow-clockwise",text:"white",display:!1},{system_name:"System 6",count:10,variant:"primary",icon:"arrow-clockwise",text:"white",display:!1},{system_name:"System 6",count:10,variant:"primary",icon:"arrow-clockwise",text:"white",display:!1},{system_name:"System 7",count:10,variant:"primary",icon:"arrow-clockwise",text:"white",display:!1},{system_name:"System 8",count:10,variant:"primary",icon:"arrow-clockwise",text:"white",display:!1},{system_name:"System 9",count:10,variant:"primary",icon:"arrow-clockwise",text:"white",display:!1},{system_name:"System 10",count:10,variant:"primary",icon:"arrow-clockwise",text:"white",display:!1}]}},mounted:function(){},methods:{toggleSystems:function(){var t=this,e=0;this.visibleCtr!=this.systems.length?this.systems.map((function(s,r){!s.display&&e<4&&(t.systems[r].display=!0,e++)})):this.systems.map((function(s,r){e++,s.display&&e>4&&(t.systems[r].display=!1)}))}},computed:{visibleCtr:function(){var t=0;return this.systems.map((function(e){e.display&&t++})),t}}},A=j,M=Object(u["a"])(A,f,b,!1,null,null,null),T=M.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-wrapper"},[s("div",{staticClass:"outer"},[s("div",{staticClass:"middle"},[s("div",{staticClass:"inner"},[s("h1",{staticClass:"text-center"},[t._v("OneSign")]),s("b-card",{attrs:{variant:"primary"}},[s("b-form",[s("b-input-group",{staticClass:"mb-3"},[s("b-input-group-prepend",[s("span",{staticClass:"input-group-text"},[s("b-icon",{attrs:{icon:"person-fill"}})],1)]),s("b-form-input",{attrs:{placeholder:"Username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("b-input-group",{staticClass:"mb-3"},[s("b-input-group-prepend",[s("span",{staticClass:"input-group-text"},[s("b-icon",{attrs:{icon:"key-fill"}})],1)]),s("b-form-input",{attrs:{placeholder:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("b-btn",{attrs:{variant:"primary"},on:{click:t.submit}},[t._v("Sign in")]),s("b-link",{staticClass:"float-right",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.test(e)}}},[t._v("Forgot your password?")])],1)],1)],1)])])])},D=[],B=(s("b0c0"),s("ade3")),z=s("bc3a"),I=s.n(z),q="os-token",E=function(t){window.localStorage.setItem(q,t)},N=function(){return window.localStorage.getItem(q)},R=function(){window.localStorage.removeItem(q)},F={saveToken:E,getToken:N,destroyToken:R},U="login",J="logout",L="verifyAuth",Y="setAuth",H="setMessage",G="setError",K="setUser",Q="purgeAuth",V={isAuthenticated:!!F.getToken(),user:{},token:"",message:"",error:{}},W={isAuthenticated:function(t){return t.isAuthenticated},getUser:function(t){return t.user}},X=(r={},Object(B["a"])(r,U,(function(t,e){return new Promise((function(s){I.a.post("api/auth/login",e).then((function(e){t.commit(Y,e.data.access_token),s(e)})).catch((function(e){t.commit(H,"You have entered an incorrect username or password"),t.commit(G,e),s(e)}))}))})),Object(B["a"])(r,J,(function(t){t.commit(Q)})),Object(B["a"])(r,L,(function(t){var e=F.getToken();e?I.a.post("api/auth/me").then((function(e){t.commit(Y,F.getToken()),t.commit(K,e.data)})).catch((function(){t.commit(Q),t.commit(H,"Your session has expired.")})):t.commit(Q)})),r),Z=(n={},Object(B["a"])(n,Y,(function(t,e){t.isAuthenticated=!0,F.saveToken(e)})),Object(B["a"])(n,G,(function(t,e){t.error=e})),Object(B["a"])(n,K,(function(t,e){t.user=e})),Object(B["a"])(n,H,(function(t,e){t.message=e})),Object(B["a"])(n,Q,(function(t){t.isAuthenticated=!1,t.user={},t.error={},F.destroyToken()})),n),tt={state:V,actions:X,mutations:Z,getters:W},et={data:function(){return{name:"",username:"",password:""}},mounted:function(){this.$store.getters.isAuthenticated&&this.$router.push({name:"dashboard"})},methods:{submit:function(){var t=this,e=this.username,s=this.password;this.$store.dispatch(U,{username:e,password:s}).then((function(){t.$router.push("dashboard")}))}},computed:{state:function(){return this.name.length>=4},invalidFeedback:function(){return this.name.length>4?"":this.name.length>0?"Enter at least 4 characters":"Please enter something"},validFeedback:function(){return!0===this.state?"Thank you":""}}},st=et,rt=(s("5d2b"),Object(u["a"])(st,$,D,!1,null,"4c50204c",null)),nt=rt.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Navbar"),s("div",{staticClass:"content"},[s("router-view")],1)],1)},ot=[],it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[s("b-navbar-brand",{attrs:{href:"#"}},[t._v("Isuzu OneSign")]),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav"),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" "+t._s(t.getUser.first_name)+" ")]},proxy:!0}])},[s("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.profile(e)}}},[t._v("Profile")]),s("b-dropdown-item",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Sign Out")])],1)],1)],1)],1)],1)},lt=[],ct=s("5530"),ut=s("2f62"),pt={computed:Object(ct["a"])({},Object(ut["b"])(["getUser"])),methods:{logout:function(){var t=this;this.$store.dispatch(J).then((function(){t.$router.push("login")}))}}},dt=pt,mt=Object(u["a"])(dt,it,lt,!1,null,null,null),ft=mt.exports,bt={name:"Layout",components:{Navbar:ft}},ht=bt,vt=Object(u["a"])(ht,at,ot,!1,null,null,null),gt=vt.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{attrs:{title:"Profile","sub-title":"Card subtitle"}},[s("b-card-text",[t._v(" Some quick example text to build on the "),s("em",[t._v("card title")]),t._v(" and make up the bulk of the card's content. ")]),s("b-card-text",[t._v("A second paragraph of text in the card.")]),s("a",{staticClass:"card-link",attrs:{href:"#"}},[t._v("Card link")]),s("b-link",{staticClass:"card-link",attrs:{href:"#"}},[t._v("Another link")])],1)],1)},_t=[],wt={},kt=wt,xt=Object(u["a"])(kt,yt,_t,!1,null,null,null),St=xt.exports;a["default"].use(m["a"]);var Ct=[{path:"/",redirect:"dashboard",component:gt,children:[{path:"/dashboard",name:"dashboard",component:T,meta:{requiresAuth:!0}},{path:"/profile",name:"profile",component:St,meta:{requiresAuth:!0}}]},{path:"/login",name:"login",component:nt}],Ot=new m["a"]({mode:"history",base:"onesign",routes:Ct}),Pt=Ot;a["default"].use(ut["a"]);var jt=new ut["a"].Store({modules:{auth:tt}}),At=s("5f5b"),Mt=s("b1e0"),Tt=(s("f9e3"),s("2dd8"),s("5df9"),s("fc65"),s("ec02")),$t=s.n(Tt);a["default"].use(At["a"]),a["default"].use(Mt["a"]),a["default"].config.productionTip=!1,I.a.interceptors.request.use((function(t){var e=F.getToken();return t.headers.Authorization="Bearer "+e,t}),(function(t){return Promise.reject(t)}));var Dt=function(t){return I.a.post("api/auth/refresh").then((function(e){return F.saveToken(e.data.access_token),t.response.config.headers["Authorization"]="Bearer "+e.data.access_token,Promise.resolve()}))};$t()(I.a,Dt),Pt.beforeEach((function(t,e,s){Promise.all([jt.dispatch(L)]).then((function(){t.matched.some((function(t){return t.meta.requiresAuth}))?jt.getters.isAuthenticated?s():s({name:"login"}):s()})),setTimeout((function(){window.scrollTo(0,0)}),100)})),new a["default"]({router:Pt,store:jt,render:function(t){return t(d)}}).$mount("#app")},"5d2b":function(t,e,s){"use strict";var r=s("9342"),n=s.n(r);n.a},"85ec":function(t,e,s){},9342:function(t,e,s){},b45d:function(t,e,s){},fc65:function(t,e,s){}});
//# sourceMappingURL=app.debc134a.js.map